---
title: "媒体转码性能评估的结果"
description: "媒体转码性能评估的结果"
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/hardware
ms.assetid: 576a152d-44a7-456f-b305-8bf71dd7ac06
ms.prod: W10
ms.mktglfcycl: plan
ms.sitesec: msdn
ms.openlocfilehash: 20e73ef24431719fabe4c9563f61034feb4cf769
ms.sourcegitcommit: d33e870dc4850bf0ea47fdae0d163b04c1c90f15
translationtype: MT
---
# <a name="results-for-the-media-transcoding-performance-assessment"></a>媒体转码性能评估的结果


媒体转码性能评估测量改为其他文件格式或比特率视频文件的过程。 媒体转换代码用于在 Windows 中，如 PlayTo 和摄像头捕获的几个关键方案。 了解计算机的性能，在媒体转码过程是改善体验的关键。 评估结果显示有关的代码转换的持续时间和速度的信息。 本主题提供指南了解媒体转码性能评估服务的结果。

本主题︰

-   [目标文件](#bkmk-goals)

-   [指标](#results)

-   [问题](#issues)

有关系统要求和评估设置此评估的详细信息，请参阅[媒体转码性能](media-transcoding-performance.md)

## <a name="a-href-idbkmk-goalsagoals-file"></a><a href="" id="bkmk-goals"></a>目标文件


您可以创建自定义的目标来衡量结果视图中的您改进。 目标文件是会审的工具，可帮助您了解 PC 的性能如何，比较 Pc 业务中。

例如，基本的便携式计算机目标可能不同于为高端桌面计算机设置的目标或者市场预期可能会更改所需的灵活性，可以定义不同类型的目标和时间的推移和技术的关键要求提高的方式中。

度量值是与该指标的目标相比，状态都用颜色编码在结果视图中，如下所示︰

-   浅紫色意味着系统具有出色的用户体验，有没有感觉到的问题。

-   紫色的中等意味着用户体验是容许，可以优化系统。 检查以查看可对系统进行何种改进的建议和分析。 这可能是软件更改，更改配置或硬件更改。

-   深紫色意味着系统有很差的用户体验，并且有重大改进的空间。 检查以查看可对系统进行改进的建议和分析。 这可能是软件更改，更改配置或硬件更改。 您可能需要考虑进行权衡，以便提供 Windows 遇到的高质量。

-   没有颜色的含义有没有定义为度量的目标。

**请注意**  在 Windows 评估 Toolkit 针对 Windows 8，某些评估包括默认目标文件。 查看使用此版本的工具，结果在第一次使用该默认目标文件。 但是，您还可以定义自定义目标针对 Windows 8 相同的方式，可以为 Windows 8.1 和 Windows 10。

 

您可以设置文件位置的目标并将目标文件添加到该位置之前可用于用户界面应用的自定义目标。 选择目标文件后，它将继续是目标文件，用于打开的任何结果。

可每次只能有一个目标文件。 所有的评估的目标是单个目标文件中设置的。 评估工具将搜索顺序如下目标︰

1.  自定义的目标文件

2.  在结果文件中定义的目标

3.  评估清单中定义的目标

您可以在 %PROGRAMFILES%使用提供了该示例的目标文件\\窗口工具包\\10\\评估和部署工具包\\Windows 评估 Toolkit\\SDK\\样本\\目标来创建目标文件。

**请注意**  
不能包装作业的目标文件，但可以将其存储在供其他用户使用共享。

 

## <a name="a-href-idresultsametrics"></a><a href="" id="results"></a>指标


结果显示在计算机上的转码持续时间和速度的信息。 媒体转码性能评估报告紧密包围的两个指标︰**编码转换的持续时间**和**编码转换性能**。

**编码转换性能**指标衡量因子为实时的性能。 例如，指标值 1.0 意味着该转码执行的实时;跃点值为 2.0，则表示该转码所做两次快于实时;跃点值为 0.5，则表示该转码已完成两次低于实际时间 – 20 的第二个输入视频，转码需要 40 秒。因为转码性能取决于输入和输出格式和用法/非-使用硬件加速，在评估运行数排列的广泛使用输入的测试并输出格式的组合，以及与硬件加速的编码和解码过程中打开和关闭。

**编码转换性能**指标的目标是︰

-   &gt;1.2 为绿色，这意味着有没有感觉到的问题。

-   到 1.2 是黄色，这意味着您可以优化系统。

-   &lt;1.0 是红色，这意味着，需要改进。

从特定的测试度量值是否小于 1.0，这或许可以接受。 指标用于比较更多--它允许您查看哪些代码转换输入输出组合处理实时的管道以及哪些不是。

此外可以在注册表中填充这些度量的结果 （请参见问题说明 – 新的性能数据时可用），然后由媒体管道部件 （MDE 和捕获媒体） 来优化其工作流。

评估所报告的其他指标是**编码转换持续时间**测量完成 20 秒输入剪辑的转码操作所花费的时间。 跃点数计算**编码转换性能**作为相同的测试。

## <a name="issues"></a>问题


下面的问题和建议可能根据媒体转码性能评估过程中捕获的指标。 您可以选择下按照建议来解决此问题的**详细信息**的链接。 建议的使用此评估是要比较的两个或多个计算机的媒体转码性能。

### <a name="a-href-idtrascode-issue-dxvaasoftware-decoding-is-faster-than-dxva-default-decoding"></a><a href="" id="trascode-issue-dxva"></a>软件解码速度快于解码 DXVA （默认值）

此问题是在第一个测试之前的其他基于输入/输出格式排列测试运行评估确定的。 比系统图形资源的功能更强大的系统 CPU 资源时，有可能比硬件加速更快的软件解码时的情况。 这是通常适用于高端系统具有功能强大的多核 Cpu 或视频卡支持仅低 DXVA 配置文件。 要解决此问题，可以显著提高转码性能。

若要解决此问题，请在详细信息窗格中选择问题解析链接在详细信息下。 这向注册表中添加特定的键。 转码管道检查注册表中的项，如果存在，DXVA 不用编码转换操作中。

此注册表项的存在还可以防止再次运行此 DXVA/非 DXVA 测试转码性能评估。请注意，此注册表项仅由转码管道。 通常播放管道保持不变并 DXVA 解码 DXVA 功能是否可用。

### <a name="a-href-idtrascode-issue-perfanew-performance-data-is-available"></a><a href="" id="trascode-issue-perf"></a>新的性能数据

每次运行后评估结果中存在此问题。 有此问题提供了一种方法来填充注册表中的性能数据，或者要清除注册表中的性能数据。

您有两个选项，若要解决此问题︰

1.  选择 PerfResults.reg 链接。 这填充注册表中的性能数据，并提供媒体管道提高转码性能的方法。

2.  选择 ClearPerfResults.reg 链接。 包括从 DXVA/非 DXVA 测试数据注册表移除所有编码转换性能数据。

选择选项 1 填充注册表中的数据和数据使用的 PlayTo 管道和捕获方案，因为这会更改用户的体验。 选项 2 允许您回滚所做的更改并回到原始经验的 PlayTo 和捕获方案。

### <a name="a-href-idtrascode-issue-errorsasome-tests-have-finished-with-error"></a><a href="" id="trascode-issue-errors"></a>一些测试已完成，错误

如果运行评估时的一些测试失败，则会报告此问题。 大多数情况下，测试的原因失败可能是由于第三方软件可以防止管道工作正常，或视频驱动程序有问题。 问题描述，在详细信息窗格中显示失败的测试的列表。

若要解决此问题，通常的建议是确保在系统上安装了最新的显卡驱动程序。

### <a name="a-href-idtrascode-issue-missingaimportant-metrics-are-missed"></a><a href="" id="trascode-issue-missing"></a>错过重要指标

正确运行测试并发现没有转码测试失败，但开机自检过程脚本无法获得从该测试运行的指标，则会报告此问题。 正常流中的评估，不应出现此问题。 此问题指向 WPR （Windows 性能记录器） 的问题。

若要解决此问题，通常的建议是确保 WPR 可以在系统上正常运行，正确安装在 ADK 并无 ADK 的功能已手动删除系统中。 还有一点需要安装最新的视频驱动程序。

### <a name="a-href-idtrascode-issue-analysisametric-results-analysis"></a><a href="" id="trascode-issue-analysis"></a>度量结果分析

评估中包含的测试的数目。 度量标准收集在每个测试运行的基础上，应将处理的每个测试基础上。

测试名称告诉有关以下用户︰

1.  输入的媒体格式

2.  输入的视频分辨率

3.  输出媒体格式

4.  输出的视频分辨率

5.  如果交流或电池的电源 （交流是默认情况） 上运行测试

6.  如果 DXVA 或非 DXVA 解码路径使用

7.  如果使用硬件或软件编码器

这里是典型的测试的名称: **"VC1 1080 对 H.264 720 插在 DXVA 上硬件编码器"**。 测试名称中包括输入视频格式-VC-1 和解决方法 – 1080p。 输出格式是 H.264，输出分辨率 720 p。 DXVA 开机，请与硬件编码器与交流电源 （接通电源），运行测试。 测试结果进行分组度量标准。

一般规则是现代系统必须能够完成实时达 720p 的实时转换格式。 作为一般规则性能必须以较低的分辨率输入和输出更高的分辨率比更高。如果**软件编码是比 DXVA**的问题报告，DXVA 关闭测试应该显示更好的性能。

我们强烈建议您按照**新的性能数据可用时**问题的建议，并填充到注册表的性能数据。 这使 PlayTo 方案和捕获方案要领取根据输入的分辨率和注册表中的性能数据的最佳解决办法并确保更好的播放质量。

前文已经提到，在测试 ETL 过程中跟踪收集的。 评估结果页上找不到 ETL 跟踪文件中的每个测试的链接。 当您选择一个链接时，WPA （Windows 性能分析器） 打开，以便您可以分析编码转换会话中深度。

### <a name="the-assessment-reports-an-exit-code-of-0x80050006"></a>评估报告的退出代码为 0x80050006

维护任务已注册的电脑上，但尚未完成之前运行的评估时，将发生此错误。 为维护任务通常会影响评估指标，这样可以防止运行，这样的评估。

要解决此问题，请执行以下任一操作︰

1.  确保计算机已连接到网络和交流电源供电运行。 手动启动，请使用以下命令从提升提示符挂起的维护任务︰

    `rundll32.exe advapi32.dll,ProcessIdleTasks`

2.  禁用定期和空闲状态维护任务，并在运行评估之前停止所有的维护任务。

## <a name="related-topics"></a>相关的主题


[媒体转换代码性能](media-transcoding-performance.md)

[Windows 评估 Toolkit](index.md)

[评估服务](assessments.md)

 

 







